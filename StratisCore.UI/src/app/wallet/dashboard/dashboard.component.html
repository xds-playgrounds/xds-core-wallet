<section id="GUI">
  <!-- CONTAINER -->
  <section id="content pb-4">
    <div class="container-fluid">
      <div class="row mb-2 mt-2">
        <div class="col-12">
          <div class="card" style="opacity: 0.97; filter: alpha(opacity=97);">
            <div class="card-body">
              <h3 class="title-bottom-border">BALANCE</h3>
              <h1>
                {{ (confirmedBalance | coinNotation) || (0 | coinNotation) }}
                <small class="text-uppercase"> {{ coinUnit }}</small>
              </h1>
              <ul class="list-unstyled text-lightblue">
                <!-- <li><strong>{{ (awaitingMaturity | coinNotation) || (0 | coinNotation) }}</strong><em> (staking)</em></li> -->
                <li><strong class="text-uppercase">{{ (unconfirmedBalance | coinNotation) || (0 | coinNotation) }} {{ coinUnit }}</strong><em> (unconfirmed)</em></li>
                <!-- <li><strong>805.65900153</strong> <em>(staking)</em></li> -->
              </ul>
              <div class="float-right">
                <a class="btn btn-primary" (click)="openReceiveDialog()">
                  <i class="icon lnr lnr-arrow-down-circle mr-2"></i>
                  <span class="text-center text-uppercase">
                    Receive
                  </span>
                </a>
                <a class="btn btn-success ml-2" (click)="openSendDialog()">
                  <i class="icon lnr lnr-arrow-up-circle mr-2"></i>
                  <span class="text-center text-uppercase">Send</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row mb-2 mt-2">
        <div class="col-12" *ngIf="hasBalance && !sidechainEnabled">
          <div class="card" *ngIf="!stakingEnabled">
            <div class="card-body">
              <h3 class="title-bottom-border text-uppercase">Unlock for staking</h3>
              <form [formGroup]="stakingForm">

                <label class="text-uppercase" for="inputPassword">Password</label>
                <input type="password" formControlName="walletPassword" class="form-control" id="inputPassword">

                <span class="float-left pt-3 text-warning"><strong><i class="icon lnr lnr-warning"></i></strong> Unlock your wallet to start staking</span>
                <button type="button" id="flipcard" class="btn btn-success float-right mt-2 text-uppercase" [disabled]="isStarting || !stakingForm.valid" (click)="startStaking()"><i class="icon lnr lnr-lock mr-2"></i> Unlock</button>

              </form>
              <div class="clearfix"></div>
            </div>
          </div>
          <div id="staking" class="card" *ngIf="stakingEnabled">
            <div class="card-body">
              <h3 class="title-bottom-border text-uppercase">Staking</h3>
              <div class="row">
                <div class="col-12 mb-2">
                  <ul class="list-unstyled">
                    <li *ngIf="isStarting">Waiting for staking to start...</li>
                    <div *ngIf="!isStarting">
                      <li>Staking weight: <strong class="text-lightblue">{{ stakingWeight | coinNotation | number: '1.0-0' }} {{ coinUnit }}</strong></li>
                      <li>Coins awaiting maturity: <strong class="text-lightblue">{{ awaitingMaturity | coinNotation | number: '1.0-0' }} {{ coinUnit }}</strong></li>
                      <li>Network weight: <strong class="text-lightblue">{{ netStakingWeight | coinNotation | number: '1.0-0' }} {{ coinUnit }}</strong></li>
                      <li class="mt-2">Expected reward time is:</li>
                      <li><strong class="text-lightblue">{{ dateTime }}</strong></li>
                    </div>
                  </ul>
                </div>
                <div class="col-12 text-right">
                  <button type="button" class="btn btn-danger text-uppercase" [disabled]="isStopping" (click)="stopStaking()"><span class="lnr lnr-cross-circle mr-2"></span> Stop Staking</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row" *ngIf="transactionArray; else noTransactions">
        <div class="col-12">
          <div class="card h-100">
            <div class="card-body">
              <h3 class="title-bottom-border text-uppercase">Latest Transactions</h3>

              <div class="row row-header mr-1 ml-1">
                <div class="col row-header-column">Type</div>
                <div class="col row-header-column text-right">Amount</div>
                <div class="col row-header-column text-center">Date</div>
                <div class="col row-header-column text-right">Details</div>
              </div>
              <div class="row mr-1 ml-1">
                <div class="col-12" *ngFor="let transaction of (transactionArray ? transactionArray.slice(0,5): []); let i=index">
                  <div class="row rows">
                    <div class="col text-lightblue row-column">
                      <span class="text-uppercase">
                        <span class="bubble bg-warning" *ngIf="!transaction.transactionConfirmedInBlock"></span>
                        <span class="bubble bg-success" *ngIf="transaction.transactionConfirmedInBlock"></span>
                        {{ transaction.transactionType }}
                      </span>
                    </div>
                    <div class="col text-white row-column text-right" *ngIf="transaction.transactionType == 'sent'">
                      <span>
                        - {{ transaction.transactionAmount + transaction.transactionFee | coinNotation }} {{ coinUnit }}
                      </span>
                    </div>
                    <div class="col text-white row-column text-right" *ngIf="transaction.transactionType == 'received'">
                      <span>
                        + {{ transaction.transactionAmount + transaction.transactionFee | coinNotation }} {{ coinUnit }}
                      </span>
                    </div>
                    <div class="col text-white row-column text-right" *ngIf="transaction.transactionType == 'staked'">
                      <span>
                        + {{ transaction.transactionAmount + transaction.transactionFee | coinNotation }} {{ coinUnit }}
                      </span>
                    </div>
                    <div class="col text-white row-column text-center">
                      <span>
                        {{ transaction.transactionTimestamp * 1000 | date:'medium' }}
                      </span>
                    </div>
                    <div class="col text-white row-column text-right">
                      <span>
                        <a class="link" (click)="openTransactionDetailDialog(transaction)">
                          <i class="icon lnr lnr-arrow-right-circle"></i>
                        </a>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-12 mt-3 text-right">
                  <button type="button" class="btn btn-primary text-uppercase" (click)="goToHistory()"><i class="icon lnr lnr-book mr-2"></i> History</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12 pt-2">
          <status-bar></status-bar>
        </div>
      </div>
    </div>

    <ng-template #noTransactions>
      <section class="col-12 text-center my-4">
        <img src="./assets/images/notransactions.svg" alt="Click the down arrow for a receive address.">
      </section>
      <div class="col-12 text-center">
        <p>Click the down arrow for a receive address.</p>
      </div>
    </ng-template>
    <!-- /CONTENT -->
  </section>
  <!-- /CONTAINER-->
</section>
<!-- /GUI-->
